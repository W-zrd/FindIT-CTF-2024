import requests

ASSETS = "https://discordapp.com/api/oauth2/applications/1233467180696207390/assets"
CDN_URL = "https://cdn.discordapp.com/app-assets/1233467180696207390/"

def getAssets(url=ASSETS):
    r = requests.get(url)
    return r.json()

def getFileIDByName(name, data):
    for asset in data:
        if asset['name'] == name:
            return asset['id']

def downloadFileByID(filename, savefile, cdn=CDN_URL):
    url = cdn + filename
    r = requests.get(url)
    with open(savefile, 'wb') as f:
        f.write(r.content)

data = getAssets()
for i in range(0, 20):
    filename = getFileIDByName("flag_" + str(i), data) + ".png"
    downloadFileByID(filename, savefile="result/flag_" + str(i) + ".png")